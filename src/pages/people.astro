---
import Layout from "../layouts/Layout.astro";
import Navbar from "@/components/Navbar.astro";
import Footer from "../components/Footer.astro";
import Newletter from "../components/Newletter.astro";
import "../styles/global.css";

// Team photos
import peoplecover from "../assets/IOER Conference Group Photo (1).svg";
import Rajnish from "../assets/Rajnish-Kumarv2 1.svg";
import satyaseshadri from "../assets/Satyanarayanan Seshadri 1.svg";
import charutaphoto from "../assets/resource (2) 1.svg";
import rahulphoto from "../assets/resource (1) 1.svg";
import sivaphoto from "../assets/resource 1.svg";
import vishakha from "../assets/resource (4) 1.svg";

// Social icons
import webglobe from "../assets/web logo small(1) 2.svg";
import linkedin from "../assets/LinkedIn 4.svg";
import twitter from "../assets/x twitter logo small 2.svg";

// Associate faculty photos
import associatefac1 from "../assets/1 (1).png";
import associatefac2 from "../assets/2.svg";
import associatefac3 from "../assets/3.svg";
import associatefac4 from "../assets/4.svg";
import associatefac5 from "../assets/5.svg";
import associatefac6 from "../assets/6.svg";
import associatefac7 from "../assets/7.svg";
import associatefac8 from "../assets/8.svg";

// Affiliate faculty photos
import afffac1 from "../assets/A.svg";
import afffac2 from "../assets/B.svg";
import afffac3 from "../assets/C.svg";
import afffac4 from "../assets/D.svg";
import afffac5 from "../assets/E.svg";
import afffac6 from "../assets/F.svg";
import afffac7 from "../assets/G.svg";
import afffac8 from "../assets/H.svg";

// Advisor photos
import advisor1 from "../assets/05.svg";
import advisor2 from "../assets/01.svg";
import advisor3 from "../assets/02.svg";
import advisor4 from "../assets/03.svg";
import advisor5 from "../assets/04.svg";

// Team data structure for better maintainability
const teamMembers = [
  {
    name: "Rajnish Kumar",
    position: "Head, School of Sustainability",
    image: Rajnish,
    website: "https://che.iitm.ac.in",
    icon: webglobe,
  },
  {
    name: "Satyanarayanan Seshadri",
    position: "Associate Head, School of Sustainability",
    image: satyaseshadri,
    website: "https://energyconsortium.org",
    icon: linkedin,
  },
];

const coreTeam = [
  {
    name: "Charuta Kulkarni",
    position: "Head, School of Sustainability",
    image: charutaphoto,
    website: "https://che.iitm.ac.in",
    icon: linkedin,
  },
  {
    name: "Rahul Muralidharan",
    position: "Associate Head, School of Sustainability",
    image: rahulphoto,
    website: "https://energyconsortium.org",
    icon: linkedin,
  },
  {
    name: "Siva Barathi A",
    position: "Associate Head, School of Sustainability",
    image: sivaphoto,
    website: "https://energyconsortium.org",
    icon: linkedin,
  },
  {
    name: "Vishakha Shankar",
    position: "Associate Head, School of Sustainability",
    image: vishakha,
    website: "https://energyconsortium.org",
    icon: linkedin,
  },
];

const associateFaculty = [
  {
    image: associatefac1,
    name: "Dr. Anubhab Roy",
    position: "Applied Mechanics",
    website: "https://che.iitm.ac.in",
  },
  {
    image: associatefac2,
    name: "Dr. Aravind Kumar Chandiran",
    position: "Chemical Engineering",
    website: "https://energyconsortium.org",
  },
  {
    image: associatefac3,
    name: "Dr. Ashwin Mahalingam",
    position: "Department of Mathematics",
    website: "https://energyconsortium.org",
  },
  {
    image: associatefac4,
    name: "Dr. Balaji Narasimhan",
    position: "Civil Engineering",
    website: "https://energyconsortium.org",
  },
  {
    image: associatefac5,
    name: "Dr. Balaraman Ravindran",
    position: "Computer Science and Engineering",
    website: "https://energyconsortium.org",
  },
  {
    image: associatefac6,
    name: "Dr. Chakravarthy Balaji",
    position: "Department of Biology",
    website: "https://energyconsortium.org",
  },
  {
    image: associatefac7,
    name: "Dr. Ganga Prasath S",
    position: "Applied Mechanics",
    website: "https://energyconsortium.org",
  },
  {
    image: associatefac8,
    name: "Dr. Indumathi M. Nambi",
    position: "Department of Civil Engineering",
    website: "https://energyconsortium.org",
  },
];

const affiliateFellows = [
  {
    image: afffac1,
    name: "Dr. Anuradda Ganesh",
    position: "Research Fellow",
    website: "https://energyconsortium.org",
  },
  {
    image: afffac2,
    name: "Dr. Christoph Woiwode",
    position: "Senior Fellow",
    website: "https://energyconsortium.org",
  },
  {
    image: afffac3,
    name: "Dr. E. Nandakumar",
    position: "Visiting Fellow",
    website: "https://energyconsortium.org",
  },
  {
    image: afffac4,
    name: "Kaushal Kumar Jha",
    position: "Research Associate",
    website: "https://energyconsortium.org",
  },
  {
    image: afffac5,
    name: "Madhavan Nampoothiri",
    position: "Post-doc Fellow",
    website: "https://energyconsortium.org",
  },
  {
    image: afffac6,
    name: "Dr. Nikhil Tambe",
    position: "Senior Researcher",
    website: "https://energyconsortium.org",
  },
  {
    image: afffac7,
    name: "Dr. Parama Roy",
    position: "Research Scientist",
    website: "https://energyconsortium.org",
  },
  {
    image: afffac8,
    name: "Dr. Raghuttama Rao",
    position: "Principal Investigator",
    website: "https://energyconsortium.org",
  },
];

const advisors = [
  {
    image: advisor1,
    name: "Dr. Thalappil Pradeep",
    position: "Chemistry",
    website: "https://energyconsortium.org",
  },
  {
    image: advisor2,
    name: "Dr. Ligy Philip",
    position: "Civil Engineering",
    website: "https://energyconsortium.org",
  },
  {
    image: advisor3,
    name: "Dr. Mahesh Panchagnula",
    position: "Applied Mechanics",
    website: "https://energyconsortium.org",
  },
  {
    image: advisor4,
    name: "Dr. Advisor Name",
    position: "Policy Advisor",
    website: "https://energyconsortium.org",
  },
  {
    image: advisor5,
    name: "Dr. Muraleedharan VR",
    position: "Humanities and Social Sciences",
    website: "https://energyconsortium.org",
  },
];
---

<Navbar />
<Layout title="School of Sustainability">
  <main class="min-h-screen scroll-smooth">
    <!-- Hero Section -->
    <section class="relative">
      <img
        src={peoplecover.src}
        alt="Team photo"
        class="w-full h-[40vh] sm:h-[50vh] md:h-[60vh] object-cover"
      />
      <div
        class="absolute inset-0 bg-black/40 flex items-center justify-center"
      >
        <h1
          class="text-3xl sm:text-4xl md:text-5xl lg:text-6xl text-white font-bold text-center px-4"
        >
          Our Team
        </h1>
      </div>
    </section>

    <!-- Navigation Menu -->
    <section
      class="py-4 sm:py-6 md:py-8 border-b border-gray-200 sticky top-0 z-10 backdrop-blur-sm bg-white/80"
    >
      <div class="container mx-auto px-4">
        <nav
          class="flex flex-wrap justify-center items-center gap-2 sm:gap-4 md:gap-6 text-green-600 font-medium text-sm sm:text-base md:text-lg"
          aria-label="Team sections navigation"
        >
          <a
            href="#core-team"
            class="hover:text-green-800 active:text-green-900 transition-all duration-300 px-3 py-2 rounded-lg hover:bg-green-50 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 transform hover:scale-105"
          >
            Core Team
          </a>
          <span class="text-gray-300">|</span>
          <a
            href="#associate-faculty"
            class="hover:text-green-800 active:text-green-900 transition-all duration-300 px-3 py-2 rounded-lg hover:bg-green-50 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 transform hover:scale-105"
          >
            Associate Faculty
          </a>
          <span class="text-gray-300">|</span>
          <a
            href="#affiliate-fellows"
            class="hover:text-green-800 active:text-green-900 transition-all duration-300 px-3 py-2 rounded-lg hover:bg-green-50 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 transform hover:scale-105"
          >
            Affiliate Fellows
          </a>
          <span class="text-gray-300">|</span>
          <a
            href="#advisors"
            class="hover:text-green-800 active:text-green-900 transition-all duration-300 px-3 py-2 rounded-lg hover:bg-green-50 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 transform hover:scale-105"
          >
            Advisors
          </a>
        </nav>
      </div>
    </section>

    <!-- Leadership Team Section -->
    <section class="py-12 sm:py-16 md:py-20">
      <div class="container mx-auto px-4">
        <h2 class="text-2xl sm:text-3xl md:text-4xl font-bold mb-8 text-center">
          Leadership Team
        </h2>
        <div
          class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-2 gap-8 sm:gap-10"
        >
          {
            teamMembers.map((member) => (
              <div class="bg-white rounded-lg shadow-lg overflow-hidden hover:shadow-xl transition-shadow duration-300">
                <div class="relative">
                  <img
                    src={member.image.src}
                    alt={member.name}
                    class="w-full h-64 sm:h-72 md:h-80"
                  />
                  <a
                    href={member.website}
                    target="_blank"
                    rel="noopener noreferrer"
                    class="absolute bottom-4 right-4 bg-white p-2 rounded-full shadow-lg hover:scale-110 transition-transform duration-300"
                  >
                    <img src={member.icon.src} alt="Website" class="w-6 h-6" />
                  </a>
                </div>
                <div class="p-6">
                  <h3 class="text-lg sm:text-lg font-bold mb-2">
                    {member.name}
                  </h3>
                  <p class="text-gray-600 text-base sm:text-lg">
                    {member.position}
                  </p>
                </div>
              </div>
            ))
          }
        </div>
      </div>

      <!-- Core Team Section -->
      <section id="core-team" class="py-12 sm:py-16 md:py-20 bg-gray-50">
        <div class="container mx-auto px-4">
          <h2 class="text-xl sm:text-xl md:text-2xl font-bold mb-8 text-center">
            Core Team
          </h2>
          <div
            class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 sm:gap-8"
          >
            {
              coreTeam.map((member) => (
                <div class="bg-white rounded-lg shadow-lg overflow-hidden hover:shadow-xl transition-shadow duration-300">
                  <div class="relative">
                    <img
                      src={member.image.src}
                      alt={member.name}
                      class="w-full h-48 sm:h-56 md:h-64 object-cover"
                    />
                    <a
                      href={member.website}
                      target="_blank"
                      rel="noopener noreferrer"
                      class="absolute bottom-4 right-4 bg-white p-2 rounded-full shadow-lg hover:scale-110 transition-transform duration-300"
                    >
                      <img
                        src={member.icon.src}
                        alt="Website"
                        class="w-6 h-6"
                      />
                    </a>
                  </div>
                  <div class="p-4 sm:p-6">
                    <h3 class="text-lg sm:text-xl font-bold mb-2">
                      {member.name}
                    </h3>
                    <p class="text-gray-600 text-sm sm:text-base">
                      {member.position}
                    </p>
                  </div>
                </div>
              ))
            }
          </div>
        </div>
      </section>

      <!-- Associate Faculty Section -->
      <section id="associate-faculty" class="py-12 sm:py-16 md:py-20">
        <div class="container mx-auto px-4">
          <h2
            class="text-2xl sm:text-3xl md:text-4xl font-bold mb-8 text-center"
          >
            Associate Faculty
          </h2>
          <div
            class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 sm:gap-8"
          >
            {
              associateFaculty.map((faculty) => (
                <div class="bg-white rounded-lg shadow-lg overflow-hidden hover:shadow-xl transition-shadow duration-300">
                  <div class="relative">
                    <img
                      src={faculty.image.src}
                      alt={faculty.name}
                      class="w-full h-48 sm:h-56 md:h-64 object-cover"
                    />
                    <a
                      href={faculty.website}
                      target="_blank"
                      rel="noopener noreferrer"
                      class="absolute bottom-4 right-4 bg-white p-2 rounded-full shadow-lg hover:scale-110 transition-transform duration-300"
                    >
                      <img src={webglobe.src} alt="Website" class="w-6 h-6" />
                    </a>
                  </div>
                  <div class="p-4 sm:p-6">
                    <h3 class="text-lg sm:text-xl font-bold mb-2">
                      {faculty.name}
                    </h3>
                    <p class="text-gray-600 text-sm sm:text-base">
                      {faculty.position}
                    </p>
                  </div>
                </div>
              ))
            }
          </div>
        </div>
      </section>

      <!-- Affiliate Fellows Section -->
      <section
        id="affiliate-fellows"
        class="py-12 sm:py-16 md:py-20 bg-gray-50"
      >
        <div class="container mx-auto px-4">
          <h2
            class="text-2xl sm:text-3xl md:text-4xl font-bold mb-8 text-center"
          >
            Affiliate Fellows
          </h2>
          <div
            class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 sm:gap-8"
          >
            {
              affiliateFellows.map((fellow) => (
                <div class="bg-white rounded-lg shadow-lg overflow-hidden hover:shadow-xl transition-shadow duration-300">
                  <div class="relative">
                    <img
                      src={fellow.image.src}
                      alt={fellow.name}
                      class="w-full h-48 sm:h-56 md:h-64 object-cover"
                    />
                    <a
                      href={fellow.website}
                      target="_blank"
                      rel="noopener noreferrer"
                      class="absolute bottom-4 right-4 bg-white p-2 rounded-full shadow-lg hover:scale-110 transition-transform duration-300"
                    >
                      <img src={webglobe.src} alt="Website" class="w-6 h-6" />
                    </a>
                  </div>
                  <div class="p-4 sm:p-6">
                    <h3 class="text-lg sm:text-xl font-bold mb-2">
                      {fellow.name}
                    </h3>
                    <p class="text-gray-600 text-sm sm:text-base">
                      {fellow.position}
                    </p>
                  </div>
                </div>
              ))
            }
          </div>
        </div>
      </section>

      <!-- Advisors Section -->
      <section id="advisors" class="py-12 sm:py-16 md:py-20">
        <div class="container mx-auto px-4">
          <h2
            class="text-2xl sm:text-3xl md:text-4xl font-bold mb-8 text-center"
          >
            Advisors
          </h2>
          <div
            class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-6 sm:gap-8"
          >
            {
              advisors.map((advisor) => (
                <div class="bg-white rounded-lg shadow-lg overflow-hidden hover:shadow-xl transition-shadow duration-300">
                  <div class="relative">
                    <img
                      src={advisor.image.src}
                      alt={advisor.name}
                      class="w-full h-48 sm:h-56 md:h-64 object-cover"
                    />
                    <a
                      href={advisor.website}
                      target="_blank"
                      rel="noopener noreferrer"
                      class="absolute bottom-4 right-4 bg-white p-2 rounded-full shadow-lg hover:scale-110 transition-transform duration-300"
                    >
                      <img src={webglobe.src} alt="Website" class="w-6 h-6" />
                    </a>
                  </div>
                  <div class="p-4 sm:p-6">
                    <h3 class="text-base sm:text-lg font-bold mb-2">
                      {advisor.name}
                    </h3>
                    <p class="text-gray-600 text-sm sm:text-base">
                      {advisor.position}
                    </p>
                  </div>
                </div>
              ))
            }
          </div>
        </div>
      </section>

      <Newletter />
      <Footer />
    </section>
  </main>

  <style>
    html {
      scroll-behavior: smooth;
    }

    /* Enhanced scroll padding to account for sticky navigation */
    section[id] {
      scroll-margin-top: 100px;
    }

    /* Active navigation state */
    nav a:hover {
      transform: translateY(-1px);
    }
  </style>

  <script>
    // Add active state management for navigation links
    document.addEventListener("DOMContentLoaded", function () {
      const navLinks = document.querySelectorAll('nav a[href^="#"]');
      const sections = document.querySelectorAll("section[id]");

      // Function to update active navigation link
      function updateActiveNav() {
        const scrollPos = window.scrollY + 120; // Account for sticky nav height

        sections.forEach((section) => {
          const sectionTop = section.offsetTop;
          const sectionHeight = section.offsetHeight;
          const sectionId = section.getAttribute("id");

          if (
            scrollPos >= sectionTop &&
            scrollPos < sectionTop + sectionHeight
          ) {
            navLinks.forEach((link) => {
              link.classList.remove("text-green-800", "bg-green-50");
              if (link.getAttribute("href") === `#${sectionId}`) {
                link.classList.add("text-green-800", "bg-green-50");
              }
            });
          }
        });
      }

      // Add smooth scrolling and active state on click
      navLinks.forEach((link) => {
        link.addEventListener("click", function (e) {
          e.preventDefault();
          const targetId = this.getAttribute("href").substring(1);
          const targetSection = document.getElementById(targetId);

          if (targetSection) {
            const offsetTop = targetSection.offsetTop - 100; // Account for sticky nav
            window.scrollTo({
              top: offsetTop,
              behavior: "smooth",
            });
          }
        });
      });

      // Update active nav on scroll
      window.addEventListener("scroll", updateActiveNav);
      updateActiveNav(); // Initial call
    });
  </script>
</Layout>
